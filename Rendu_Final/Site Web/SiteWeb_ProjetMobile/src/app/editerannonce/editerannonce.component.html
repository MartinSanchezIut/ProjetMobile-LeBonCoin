<div class="container" style="margin-top: 50px; margin-bottom: 50px;">
    <div #form id="form" class="center card" style="background-color: #F1EEEE;">
        <h3 style="padding: 20px;"> Modifiez votre annonce ! </h3>
        <hr style="width: 98%;">


        <div class="row" style="padding-top: 100px;">
            <h5 class="col s5"> Catégorie : </h5>
            <a (click)="hideMeToShow(form, categorieSel);" class="waves-effect waves-light btn-large center black-text white col s6">
                <p #categorie id="categorie" style="margin-top:0%;"> {{ detailedAnnonce.categories }}  </p>
                <span class="material-icons black-text" style="top: 15px; position: absolute; right: 20px; font-weight: 100;"> expand_more </span>
            </a>
        </div>

        <div class="row">
            <h5 class="col s5"> Sous-Catégorie : </h5>
            <a (click)="hideMeToShow(form, souscategorieSel);" class="waves-effect waves-light btn-large center black-text white col s6">
                <p #souscat id="souscat" style="margin-top:0%;"> {{ detailedAnnonce.filtre }}  </p>
                <span class="material-icons black-text" style="top: 15px; position: absolute; right: 20px; font-weight: 100;"> expand_more </span>
            </a>
        </div>

        <div class="row">
            <h5 class="col s5"> Titre : </h5>
            <div class="input-field col s6">
                <input #Titre placeholder="Titre" id="Titre" type="text" class="validate left" value="{{ detailedAnnonce.titre }}"
                (change)="setTextOf(showTitre, Titre.value);">
                <label for="Titre">Titre :</label>
            </div>
        </div>

        <div class="row">
            <h5 class="col s5"> Description : </h5>
            <div class="input-field col s6">
                <input #Description placeholder="Description" id="Description" type="text" class="validate left" value="{{ detailedAnnonce.description }}"
                (change)="setTextOf(showDesc, Description.value);">
                <label for="Description">Description :</label>
            </div>
        </div>

        <div class="row">
            <h5 class="col s5"> Prix : </h5>
            <div class="input-field col s6">
                <input #Prix placeholder="Prix" id="Prix" type="number" min="0" class="validate left" value="{{ detailedAnnonce.prix }}"
                (change)="setTextOf(showPrix, Prix.value);">
                <label for="Prix">Prix :</label>
            </div>
        </div>

        <div class="row">
            <h5 class="col s5"> Département : </h5>
            <a (click)="hideMeToShow(form, departementSel);" class="waves-effect waves-light btn-large center black-text white col s6">
                <p #departement id="departement" style="margin-top:0%;"> {{ detailedAnnonce.departement }}  </p>
                <span class="material-icons black-text" style="top: 15px; position: absolute; right: 20px; font-weight: 100;"> expand_more </span>
            </a>
        </div>

        <div class="row">
            <h5 class="col s5"> Ville : </h5>
            <div class="input-field col s6">
                <input #Ville placeholder="Ville" id="Ville" type="text" class="validate left" value="{{ detailedAnnonce.ville }}"
                (change)="setTextOf(showVille, Ville.value);">
                <label for="Ville">Ville :</label>
            </div>
        </div>

        <div class="row">
            <h5 class="col s5"> Images : </h5>
        <!--    <a class="waves-effect waves-light btn-large center black-text white col s6">
                <p #images id="images" style="margin-top:0%;"> Sélectionnez vos images </p>
                <span class="material-icons black-text" style="top: 15px; position: absolute; right: 20px; font-weight: 100;"> expand_more </span>
            </a>
        -->    
            <div class="file-field input-field center col s6">
                <div class="waves-effect waves-light btn-large white  black-text">
                  <span>Sélectionnez vos images</span>
                  <input type="file" multiple>
                  <span class="material-icons black-text" style="top: 10px; right: 1px; position: absolute; font-weight: 100;"> expand_more </span>
                </div>
                <div class="file-path-wrapper">
                  <input #img class="file-path validate" type="text">
                </div>
              </div>
        </div>



        <a (click)="editerAnnonce(Titre.value, Description.value, Prix.value, categorie.innerText, souscat.innerText, departement.innerText, Ville.value, img.value);" 
            class="waves-effect waves-light btn-large center black-text" 
            style="background-color: #9BE7FF; width: 15%; margin-bottom: 75px; margin-top: 45px;">
            Modifier !</a>

    </div>

    <div #departementSel id="departementSel" class="center hide" >
        <ul>
            <li *ngFor="let dep of departements; let isOdd = odd;">
                <a  *ngIf="isOdd" (click)="setTextOf(departement, dep); setTextOf(showDep, dep); hideMeToShow(departementSel, form);" class="waves-effect waves-light btn-large center black-text" style="background-color: #9BE7FF; width: 80%;">
                    {{ dep }}
                </a>
                <a  *ngIf="!isOdd" (click)="setTextOf(departement, dep); setTextOf(showDep, dep); hideMeToShow(departementSel, form);" class="waves-effect waves-light btn-large center black-text" style="background-color: #F1EEEE; width: 80%;">
                    {{ dep }}
                </a>
            </li>
        </ul>
        <a (click)="hideMeToShow(departementSel, form);" class="waves-effect waves-light btn-large center black-text" style="background-color: #F1EEEE; width: 80%;">
            Retour
        </a>
    </div>

    <div #categorieSel id="categorieSel" class="center hide">
        <ul>
            <li *ngFor="let cat of categories; let isOdd = odd;">

                <a  *ngIf="isOdd" (click)="setTextOf(categorie, cat.nomCat); hideMeToShow(categorieSel, form);" class="waves-effect waves-light btn-large center black-text" style="background-color: #9BE7FF; width: 80%;">
                    {{ cat.nomCat }}
                </a>
                <a  *ngIf="!isOdd" (click)="setTextOf(categorie, cat.nomCat); hideMeToShow(categorieSel, form);" class="waves-effect waves-light btn-large center black-text" style="background-color: #F1EEEE; width: 80%;">
                    {{ cat.nomCat }}
                </a>
        </ul>    
        <a (click)="hideMeToShow(categorieSel, form);" class="waves-effect waves-light btn-large center black-text" style="background-color: #F1EEEE; width: 80%;">
            Retour
        </a>
    </div>

    <div #souscategorieSel id="souscategorieSel" class="center hide">    
        <ul *ngIf="getSousCategories(categorie.innerText).length > 0">
            <li *ngFor="let souscategorie of getSousCategories(categorie.innerText);  let isOdd = odd;">
                <a  *ngIf="isOdd" (click)="setTextOf(souscat, souscategorie); hideMeToShow(souscategorieSel, form);" class="waves-effect waves-light btn-large center black-text" style="background-color: #9BE7FF; width: 65%; left: 7.5%;">
                    {{ souscategorie }}
                </a>
                <a  *ngIf="!isOdd" (click)="setTextOf(souscat, souscategorie);  hideMeToShow(souscategorieSel, form);" class="waves-effect waves-light btn-large center black-text" style="background-color: #F1EEEE; width: 65%; left: 7.5%;">
                    {{ souscategorie }}
                </a>
            </li>
        </ul>
        <a (click)="hideMeToShow(souscategorieSel, form);" class="waves-effect waves-light btn-large center black-text" style="background-color: #F1EEEE; width: 80%;">
            Retour
        </a>
    </div>
</div>


<hr class="container">
<h1 class="center"> Visualisation des modifications: </h1>

<div class="row" style="margin-top: 20px;">

    <div #userProfile id="userProfile" class="col s3 card" style="background-color: #F1EEEE;">
        <h4 class="center"> Profil de l'annonceur </h4>
        <hr style="width: 80%;">

        <div class="row" style="margin-top: 50px;">
            <img class="col s6 offset-s3 circle  responsive-img center"  src="assets/img/profilepictures/testPP.jpg">


        </div>
        <p style="font-weight: 600; font-size: 24px; margin-top: 10px;"
        class="center"> Pseudo du client</p>


        <div class="row" style="margin-top: 50px;">
            <p style="font-weight: 400; font-size: 18px;" class="col s4 offset-s2">Nom</p>
            <p style="font-weight: 400; font-size: 18px;" class="col s4 offset-s1">Prenom</p>
        </div>

        <p style="font-weight: 400; font-size: 18px; margin-left: 16.6666666667%;" >Date d'inscription</p>

        <div class="row" style="margin-top: 75px;">
            <a class="waves-effect waves-light btn-large black-text col s6 offset-s3"
            style="background-color: #9BE7FF;  margin-top: 30px; margin-bottom: 30px;">Contacter</a>
        </div>

    </div>

   
    <div class="card col s7 offset-s1" style="background-color: #F1EEEE;"> 
        <h4 style="font-weight: 500;" class="center" #showTitre> {{ detailedAnnonce.titre }} </h4>
        <p style="font-weight: 500;" class="center" #showVille> {{ detailedAnnonce.ville }}</p>
        <p style="font-weight: 500;" class="center" #showDep>( {{detailedAnnonce.departement}} ) </p>
        <hr style="width: 80%; margin-top: 20px; margin-bottom: 20px;">
        <div class="center">
            <img class="responsive-img" style="height: 250px;" src="assets/img/profilepictures/testPP.jpg">
        </div>
        <p style="font-weight: 500; font-size: 18px; margin-left: 10%;" #showDesc> Description : {{ detailedAnnonce.description }} </p> 
        <p style="font-weight: 500;font-size: 18px; margin-left: 10%;" #showPrix> Prix : {{ detailedAnnonce.prix }} € </p> 
        <p style="font-weight: 500;font-size: 18px; margin-left: 10%;" #showContact> Contactez de préférence par : {{ detailedAnnonce.contact }} </p> 


        <div style="margin-left: 10%; display: flex; margin-bottom: 30px;">
            
            <a href="#"> <span class="material-icons red-text" style="font-size: 32px; margin-top: 45%;"> report_problem </span>  </a>
            <a href="#"> <span class="material-icons black-text" style="font-size: 32px; right: 10%;position: absolute;font-size: 32px;margin-top: 13px;"> favorite_border </span>  </a>
        </div>
    
        <p style="font-weight: 500;font-size: 18px;" class="center"> {{ detailedAnnonce.date_publication }} </p> 

    </div> 
</div>
